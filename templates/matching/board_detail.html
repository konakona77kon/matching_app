{% extends "matching/base.html" %}

{% block title %}æ²ç¤ºæ¿ | melo-match{% endblock %}

{% block content %}
<div class="card" style="max-width:520px; margin:24px auto;">
  <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
    <h2 class="page-title" style="margin-bottom:4px;">
      {{ post.title }}
      {% if post.is_call_invite %}
        <span class="pill">é€šè©±å‹Ÿé›†</span>
      {% endif %}
    </h2>
    <a href="{% url 'board_list' %}" class="btn-ghost btn-sm">ä¸€è¦§ã«æˆ»ã‚‹</a>
  </div>

  <div style="font-size:13px; color:#777; margin-bottom:8px;">
    æŠ•ç¨¿è€…:
    <a href="{% url 'profile_detail' post.author.pk %}">
      {{ post.author.nickname }}
    </a>
    {% if post.author.age_range %} / {{ post.author.age_range }}æ­³{% endif %}
    {% if post.author.prefecture %} / {{ post.author.prefecture }}{% endif %}
    <br>
    æŠ•ç¨¿æ—¥æ™‚: {{ post.created_at|date:"Y/m/d H:i" }}
  </div>

  {% if post.image %}
    <div style="margin:8px 0;">
      <img src="{{ post.image.url }}" alt="" style="width:100%; border-radius:12px; object-fit:cover;">
    </div>
  {% endif %}

  <div style="font-size:14px; white-space:pre-wrap; margin-top:8px;">
    {{ post.body|default:"ï¼ˆæœ¬æ–‡ãªã—ï¼‰" }}
  </div>

  <hr style="margin:16px 0;">

  <div style="display:flex; flex-wrap:wrap; gap:8px;">
    <a href="{% url 'profile_detail' post.author.pk %}" class="btn-ghost">
      ğŸ‘€ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’è¦‹ã‚‹
    </a>

    {# æ—¢å­˜ã® start_chat / ã„ã„ã­ãƒ­ã‚¸ãƒƒã‚¯ã¨åˆã‚ã›ã¦å¥½ããªå°ç·šã« #}
    <a href="{% url 'send_like' post.author.pk %}" class="btn-primary">
      ğŸ‘ ã„ã„ã­ã™ã‚‹
    </a>

    {# æ—¢ã«ãƒãƒƒãƒã—ã¦ã„ã‚Œã°ãƒãƒ£ãƒƒãƒˆã¸ #}
    <a href="{% url 'start_chat' post.author.pk %}" class="btn-primary">
      ğŸ’¬ ãƒãƒ£ãƒƒãƒˆã§è©±ã—ãŸã„
    </a>
  </div>
</div>
{% endblock %}
